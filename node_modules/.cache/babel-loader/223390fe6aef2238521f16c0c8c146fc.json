{"ast":null,"code":"import _classCallCheck from \"D:\\\\Users\\\\c05917\\\\Desktop\\\\redux\\\\chrome-api\\\\chrome\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Users\\\\c05917\\\\Desktop\\\\redux\\\\chrome-api\\\\chrome\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Users\\\\c05917\\\\Desktop\\\\redux\\\\chrome-api\\\\chrome\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Users\\\\c05917\\\\Desktop\\\\redux\\\\chrome-api\\\\chrome\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Users\\\\c05917\\\\Desktop\\\\redux\\\\chrome-api\\\\chrome\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Users\\\\c05917\\\\Desktop\\\\redux\\\\chrome-api\\\\chrome\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Users\\\\c05917\\\\Desktop\\\\redux\\\\chrome-api\\\\chrome\\\\src\\\\Componentes\\\\PageCopy.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport axios from 'axios';\nimport ReactHtmlParser from 'react-html-parser';\nimport $ from 'jquery';\n\nvar PageCopy =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageCopy, _Component);\n\n  function PageCopy() {\n    var _this;\n\n    _classCallCheck(this, PageCopy);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageCopy).call(this));\n    _this.state = {\n      urlToClone: '',\n      boddy: '',\n      profiles: [{\n        key: \"\",\n        value: \"\"\n      }]\n    };\n    _this.agregoIdEventOnChange = _this.agregoIdEventOnChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.adaptarHTML = _this.adaptarHTML.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.cambioInput = _this.cambioInput.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PageCopy, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      debugger;\n      var url = this.props.location.pathname + this.props.location.search; //logica para clonar la pagina\n\n      var urlAClonar = 'https:/' + url;\n      console.log('El url a consumir por axios es: ' + urlAClonar);\n      var principal = this;\n      axios.get(urlAClonar).then(function (response) {\n        console.log(response);\n        console.log('Recibimos el response' + response.data);\n        principal.setState({\n          boddy: response.data,\n          urlToClone: urlAClonar\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"cambioInput\",\n    value: function cambioInput(e) {\n      debugger;\n      var id = e.target.id;\n      this.setState({\n        urlToClone: this.state.urlToClone,\n        boddy: this.state.boddy,\n        profiles: [{\n          key: id,\n          value: e.target.value\n        }]\n      });\n    }\n  }, {\n    key: \"agregoIdEventOnChange\",\n    value: function agregoIdEventOnChange() {\n      debugger;\n      var boddy = '<div><form><input type=\"search\"/><input type=\"search\" id=\"BBB\"/></form></div>';\n      var counter = '1';\n      var $div = $('<div>').html(boddy); // modify attributes\n\n      $div.find('input').attr({\n        \"onchange\": \"cambioInput()\",\n        'id': function id() {\n          if (this.id === null || this.id === \"\") {\n            this.id = \"AA-\" + counter;\n          }\n\n          counter++;\n        }\n      }); // return modified content to string\n\n      var processedHTML = $div.html();\n      return processedHTML;\n    }\n  }, {\n    key: \"adaptarHTML\",\n    value: function adaptarHTML() {\n      debugger; //modifico el html\n      //1.- para todo input, si tiene id lo dejo, si no tiene le seteo un id\n      //2.- agrego el evento onChange\n\n      var newHTML = this.agregoIdEventOnChange(); //3.- creo la funcion que por cada onChange va actualizando en un hashmap \n      // por cada input_id el value\n      //convierto a jsx\n\n      var resultado = ReactHtmlParser(newHTML);\n      debugger;\n      return newHTML;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"Features\",\n        dangerouslySetInnerHTML: {\n          __html: this.adaptarHTML()\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PageCopy;\n}(Component);\n\nexport default PageCopy;","map":{"version":3,"sources":["D:\\Users\\c05917\\Desktop\\redux\\chrome-api\\chrome\\src\\Componentes\\PageCopy.js"],"names":["React","Component","axios","ReactHtmlParser","$","PageCopy","state","urlToClone","boddy","profiles","key","value","agregoIdEventOnChange","bind","adaptarHTML","cambioInput","url","props","location","pathname","search","urlAClonar","console","log","principal","get","then","response","data","setState","catch","error","e","id","target","counter","$div","html","find","attr","processedHTML","newHTML","resultado","__html"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport '../App.css';\r\nimport axios from 'axios';\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport $ from 'jquery';\r\n\r\nclass PageCopy extends Component {\r\n    \r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            urlToClone : '',\r\n            boddy: '',\r\n            profiles: [{key:\"\",value:\"\"}]\r\n        }\r\n        this.agregoIdEventOnChange = this.agregoIdEventOnChange.bind(this);\r\n        this.adaptarHTML = this.adaptarHTML.bind(this);\r\n        this.cambioInput = this.cambioInput.bind(this);\r\n    }\r\n\r\n    componentDidMount () {\r\n        debugger\r\n\r\n        let url = this.props.location.pathname + this.props.location.search\r\n        \r\n        //logica para clonar la pagina\r\n        let urlAClonar = 'https:/' + url\r\n\r\n        \r\n        console.log('El url a consumir por axios es: ' + urlAClonar);\r\n        \r\n        const principal = this;\r\n        axios.get(urlAClonar)\r\n        .then(function (response) {\r\n            console.log(response);\r\n            console.log('Recibimos el response' + response.data);\r\n\r\n            principal.setState({\r\n                boddy: response.data,\r\n                urlToClone : urlAClonar\r\n            })\r\n\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    cambioInput(e){\r\n        debugger\r\n        let id = e.target.id;\r\n        this.setState({\r\n            urlToClone : this.state.urlToClone,\r\n            boddy: this.state.boddy,\r\n            profiles: [{key:id,value:e.target.value}]\r\n        })\r\n    }\r\n\r\n    \r\n    agregoIdEventOnChange(){\r\n        debugger;\r\n        let boddy = '<div><form><input type=\"search\"/><input type=\"search\" id=\"BBB\"/></form></div>';\r\n        let counter = '1';\r\n        let $div = $('<div>').html(boddy);\r\n        // modify attributes\r\n        $div.find('input').attr({\"onchange\":\"cambioInput()\",'id':function(){\r\n            if (this.id === null || this.id ===\"\"){\r\n                this.id = \"AA-\" + counter;\r\n            }\r\n            counter++;\r\n        }});\r\n        // return modified content to string\r\n        let processedHTML = $div.html();\r\n\r\n        return processedHTML;\r\n    }\r\n    \r\n    adaptarHTML(){\r\n        debugger;\r\n        //modifico el html\r\n        //1.- para todo input, si tiene id lo dejo, si no tiene le seteo un id\r\n        //2.- agrego el evento onChange\r\n        let newHTML = this.agregoIdEventOnChange();\r\n        \r\n\r\n        //3.- creo la funcion que por cada onChange va actualizando en un hashmap \r\n        // por cada input_id el value\r\n\r\n        //convierto a jsx\r\n        let resultado =  ReactHtmlParser(newHTML);\r\n        debugger;\r\n        return newHTML;\r\n    }\r\n\r\n    \r\n\r\n  render() {\r\n    return (\r\n        <div className=\"container\">\r\n            <p\r\n            className=\"Features\"\r\n            dangerouslySetInnerHTML={{ __html: this.adaptarHTML() }}\r\n            />\r\n            \r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PageCopy;\r\n"]},"metadata":{},"sourceType":"module"}