{"ast":null,"code":"'use strict';\n\nvar request = require('request');\n\nvar url = 'https://chrome.google.com/webstore/ajax/detail?hl=en-US&gl=GR&pv=20181009&mce=atf%2Cpii%2Crtr%2Crlb%2Cgtc%2Chcn%2Csvp%2Cwtd%2Cnrp%2Chap%2Cnma%2Cnsp%2Cdpb%2Cc3d%2Cncr%2Cctm%2Cac%2Chot%2Cmac%2Cfcf%2Crma&container=CHROME&_reqid=127898&rt=j';\n\nfunction get(id) {\n  if (typeof id !== 'string') return 'Not an string';\n  var object = {\n    message: '',\n    userCount: '0',\n    extra: ''\n  };\n  var chromeResponse = new Promise(function (resolve, reject) {\n    request.post({\n      url: \"\".concat(url, \"&id=\").concat(id)\n    }, function (error, httpResponse, body) {\n      if (error) {\n        object.message = 'error';\n        object.extra = error;\n        return reject(error);\n      }\n\n      var cleanJson = body.substr(4);\n      cleanJson = JSON.parse(cleanJson); // So this is odd, the response here at postion returns 404\n\n      if (cleanJson[0][0][5] === 404) {\n        object.message = 'success';\n        object.extra = 'no chrome extension found';\n        return resolve(object);\n      }\n\n      var userCount = cleanJson[0][1][1][0][23]; // So this is odd, the response here at postion returns the user amounts.\n\n      object.message = 'success';\n      object.userCount = userCount;\n      object.extra = cleanJson;\n      return resolve(object);\n    });\n  });\n  return chromeResponse.then(function (value) {\n    return value;\n  }).catch(function (error) {\n    return error;\n  });\n}\n\nexports.get = get;","map":null,"metadata":{},"sourceType":"script"}